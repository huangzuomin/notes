# 驰骋北疆：12日史诗自驾探险之旅 - 交互式地图应用

这是一个基于高德地图的交互式旅行地图应用，用于可视化12天的新疆北疆自驾游行程。应用提供了直观的地图界面，让用户可以轻松探索每日路线、查看地点详情，并理解整个旅行安排。

## 🌟 主要功能

### 📍 交互式地图
- **高德地图集成**：使用高德地图JavaScript API v2.0
- **地点标记**：不同类型的地点使用不同的图标和颜色
- **信息窗口**：点击标记查看详细的地点信息
- **路线规划**：显示每日的驾驶路线

### 📅 日程管理
- **按天筛选**：点击侧边栏的天数查看特定日期的行程
- **全程概览**：显示所有12天的完整路线
- **主要景点**：快速查看重要旅游景点

### 📊 数据可视化
- **每日里程图表**：条形图显示每天的驾驶距离
- **地点类型分布**：饼图展示不同类型地点的分布

### 📱 响应式设计
- **移动端优化**：支持手机和平板设备
- **触摸手势**：支持滑动操作
- **自适应布局**：根据屏幕尺寸调整界面

### ♿ 无障碍功能
- **键盘导航**：支持键盘快捷键操作
- **屏幕阅读器**：ARIA标签支持
- **高对比度**：清晰的视觉设计

## 🚀 快速开始

### 1. 获取高德地图API密钥

1. 访问 [高德开放平台](https://console.amap.com/)
2. 注册并登录账号
3. 创建新应用，选择"Web端(JS API)"
4. 获取API密钥(Key)

### 2. 配置API密钥

在 `xinjiang-travel-map.html` 文件中找到以下代码：

```javascript
const GAODE_API_KEY = "在此处输入您的高德地图API密钥";
```

将引号内的文本替换为您的实际API密钥：

```javascript
const GAODE_API_KEY = "您的实际API密钥";
```

### 3. 运行应用

1. 将 `xinjiang-travel-map.html` 文件保存到本地
2. 使用现代浏览器打开文件
3. 应用将自动加载并显示交互式地图

## 🎮 使用指南

### 基本操作

#### 侧边栏操作
- **点击天数**：选择特定天的行程
- **点击地点**：在地图上高亮对应位置
- **悬停地点**：临时高亮地图标记

#### 地图操作
- **点击标记**：查看地点详细信息
- **缩放地图**：鼠标滚轮或触摸手势
- **拖拽地图**：鼠标拖拽或触摸滑动

#### 控制按钮
- **显示全部行程**：查看完整的12天路线
- **卫星地图**：切换地图样式
- **统计图表**：显示/隐藏数据图表

### 键盘快捷键

| 快捷键 | 功能 |
|--------|------|
| `1-9` | 选择对应天数的行程 |
| `0` | 显示全部行程 |
| `←/→` | 切换到上一天/下一天 |
| `ESC` | 关闭信息窗口和移动端侧边栏 |

### 移动端操作

#### 侧边栏控制
- **右滑**：从左边缘右滑显示侧边栏
- **左滑**：在侧边栏内左滑隐藏侧边栏
- **点击地图**：自动隐藏侧边栏

#### 触摸手势
- **单击**：选择标记或地点
- **双击**：缩放地图
- **捏合**：缩放地图
- **拖拽**：移动地图

## 📋 行程概览

### 12日行程亮点

1. **第1天**：抵达乌鲁木齐 - 丝路之门的序曲
2. **第2天**：乌鲁木齐 → 布尔津 - 五彩滩的落日熔金
3. **第3天**：布尔津 → 喀纳斯国家公园 - 探访神的后花园
4. **第4天**：喀纳斯 → 禾木村 - 童话般的村落
5. **第5天**：禾木 → 乌尔禾 - 魔鬼城的日落魅影
6. **第6天**：乌尔禾 → 赛里木湖 → 伊宁 - 大西洋的最后一滴眼泪
7. **第7天**：伊宁 → 喀拉峻草原 → 特克斯 - 立体草原与八卦城
8. **第8天**：特克斯 → 那拉提草原 - 空中草原的经典画卷
9. **第9天**：那拉提 → 巴音布鲁克草原 - 九曲十八弯的日落
10. **第10天**：巴音布鲁克 → 奎屯 - 驰骋传奇独库公路
11. **第11天**：奎屯 → 天山天池 → 乌鲁木齐 - 瑶池仙境的告别
12. **第12天**：乌鲁木齐出发 - 满载回忆的归途

### 统计数据
- **总里程**：约3000公里
- **总天数**：12天
- **主要景点**：20+个著名景区
- **住宿地点**：11个不同城市/景区

## 🛠️ 技术规格

### 前端技术栈
- **HTML5**：语义化标记
- **CSS3**：Tailwind CSS框架
- **JavaScript ES6+**：现代JavaScript特性
- **高德地图API v2.0**：地图服务
- **Chart.js**：数据可视化

### 浏览器兼容性
- Chrome 80+
- Firefox 75+
- Safari 13+
- Edge 80+
- 移动端浏览器

### 性能优化
- **懒加载**：按需加载地图覆盖物
- **内存管理**：自动清理不用的资源
- **缓存策略**：合理使用浏览器缓存
- **响应式图片**：适配不同屏幕密度

## 🔧 自定义配置

### 修改行程数据

在 `xinjiang-travel-map.html` 文件中找到 `itineraryData` 对象，您可以：

1. **添加新地点**：在对应天数的 `locations` 数组中添加新对象
2. **修改地点信息**：更新现有地点的名称、描述、坐标等
3. **调整路线**：修改 `drivingDistance` 和 `drivingTime`
4. **更新亮点**：编辑 `highlights` 数组

### 地点数据格式

```javascript
{
    name: "地点名称",
    type: "地点类型", // airport, hotel, attraction, restaurant, city, village, viewpoint, transfer, departure, road, landmark, shopping
    coordinates: [经度, 纬度],
    address: "详细地址",
    description: "活动描述",
    time: "时间段", // 上午, 下午, 晚间, 全天
    notes: "备注信息" // 可选
}
```

### 样式自定义

您可以通过修改CSS变量来自定义应用外观：

```css
:root {
    --primary-color: #3B82F6;
    --secondary-color: #10B981;
    --accent-color: #F59E0B;
    --text-color: #1F2937;
    --background-color: #F9FAFB;
}
```

## 🐛 故障排除

### 常见问题

#### 1. 地图无法加载
- **检查API密钥**：确保已正确配置高德地图API密钥
- **检查网络连接**：确保能够访问高德地图服务
- **查看控制台**：打开浏览器开发者工具查看错误信息

#### 2. 路线无法显示
- **API配额限制**：检查是否超出API调用限制
- **坐标错误**：验证地点坐标是否正确
- **网络问题**：路线计算需要网络连接

#### 3. 移动端显示异常
- **清除缓存**：清除浏览器缓存后重新加载
- **更新浏览器**：使用最新版本的移动浏览器
- **检查屏幕方向**：某些功能在横屏模式下效果更佳

#### 4. 统计图表不显示
- **Chart.js加载**：确保Chart.js库正确加载
- **数据格式**：检查行程数据格式是否正确
- **浏览器兼容性**：使用支持Canvas的现代浏览器

### 调试模式

在浏览器控制台中输入以下命令启用调试模式：

```javascript
// 显示所有标记点坐标
console.log('所有地点坐标:', itineraryData.days.flatMap(day => 
    day.locations.map(loc => ({name: loc.name, coords: loc.coordinates}))
));

// 检查地图实例
console.log('地图实例:', mapController);

// 显示当前选中天数
console.log('当前选中天数:', currentDay);
```

## 📄 许可证

本项目仅供学习和个人使用。使用高德地图服务需要遵守[高德地图API服务条款](https://lbs.amap.com/terms)。

## 🤝 贡献

欢迎提交问题报告和功能建议！如果您想要贡献代码，请：

1. Fork 本项目
2. 创建功能分支
3. 提交更改
4. 发起 Pull Request

## 📞 支持

如果您在使用过程中遇到问题，可以：

1. 查看本文档的故障排除部分
2. 检查浏览器控制台的错误信息
3. 确认高德地图API密钥配置正确
4. 验证网络连接状态

---

**享受您的北疆之旅！** 🏔️🚗✨